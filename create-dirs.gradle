/***
See: http://issues.gradle.org/browse/GRADLE-1289
*/

task "create-dirs" << {
	def createDir = {
		println "> creating $it"
		it.mkdirs()
	}
	if(project.hasProperty('webAppDir')){ createDir(webAppDir) }
	if(hasPlugin('groovy')){ sourceSets.all*.groovy.srcDirs*.each createDir	}
	if(hasPlugin('scala')) { sourceSets.all*.scala.srcDirs*.each createDir }
	if(hasPlugin('java'))  { sourceSets.all*.java.srcDirs*.each createDir }
	sourceSets.all*.resources.srcDirs*.each createDir
}

def hasPlugin(name) {
	sourceSets.all*.hasProperty(name).contains(true)
}
